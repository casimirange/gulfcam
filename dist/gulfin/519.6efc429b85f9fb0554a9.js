"use strict";(self.webpackChunkgulfin=self.webpackChunkgulfin||[]).push([[519],{2519:(B,u,i)=>{i.r(u),i.d(u,{AmandeModule:()=>z});var d=i(8583),p=i(9763),e=i(7716),Z=i(9498),h=i(5897),T=i(6128);let f=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-layout-amande"]],decls:8,vars:0,consts:[[1,"app-container","app-theme-white","body-tabs-shadow","fixed-header","fixed-sidebar"],[1,"app-main"],[1,"app-main__outer"],[1,"app-main__inner"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.TgZ(2,"div",1),e._UZ(3,"app-sidebar"),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e._UZ(6,"router-outlet"),e.qZA(),e._UZ(7,"app-footer"),e.qZA(),e.qZA(),e.qZA())},directives:[Z.G,h.k,p.lC,T.c],styles:[""]}),n})();var r=i(665),v=i(6215),x=i(5917),C=i(8002),_=i(9761),A=i(5304),l=i(5399),q=i(6521),y=i(1982),S=i(1824),U=i(205),E=i(2340),I=i(1841);let M=(()=>{class n{constructor(t){this.http=t,this.amande$=(a,s,g,c,R)=>this.http.get(E.N.amande+`?page=${c}&size=${R}&name=${a}&type=${s}&date=${g}`).pipe((0,A.K)(this.handleError))}handleError(t){return(0,U._)(`Une erreur est survenue: ${t.error.message}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(I.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var m=i(9966);function b(n,o){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"titlecase"),e.qZA()),2&n){const t=o.$implicit;e.s9C("ngValue",t.userId),e.xp6(1),e.AsE("",e.lcZ(2,3,t.firstName),"\xa0",e.lcZ(3,5,t.lastName),"")}}function O(n,o){1&n&&(e.TgZ(0,"option",28),e._uU(1,"Aucun membre trouv\xe9"),e.qZA())}function D(n,o){1&n&&(e.ynx(0,32),e.TgZ(1,"div",33),e.TgZ(2,"div",34),e._UZ(3,"div",35),e.qZA(),e.qZA(),e.BQk())}function F(n,o){if(1&n&&(e.TgZ(0,"tbody"),e.TgZ(1,"tr"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.ALo(10,"titlecase"),e.qZA(),e.TgZ(11,"td",44),e.TgZ(12,"span"),e._UZ(13,"i",45),e._uU(14),e.ALo(15,"number"),e.qZA(),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e.TgZ(19,"span",46),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.ALo(26,"date"),e.qZA(),e.qZA(),e.qZA()),2&n){const t=o.$implicit,a=o.index;e.xp6(3),e.Oqu(a+1),e.xp6(2),e.Oqu(e.xi3(6,12,t.date,"dd-MM-yyyy")),e.xp6(3),e.AsE("",e.lcZ(9,15,t.user.firstName),"\xa0",e.lcZ(10,17,t.user.lastName),""),e.xp6(3),e.Q6J("ngClass","DEPOT"==t.typeTransaction.name?"text-success":"text-warning"),e.xp6(2),e.Q6J("ngClass","DEPOT"==t.typeTransaction.name?"fa-arrow-up":"fa-arrow-right"),e.xp6(1),e.hij("\xa0",e.xi3(15,19,t.montant,"1.2-2"),"\xa0\u20ac"),e.xp6(3),e.hij("",t.motif,"\xa0"),e.xp6(2),e.Q6J("ngClass","DEPOT"==t.typeTransaction.name?"badge-success":"badge-warning"),e.xp6(1),e.hij(" ","DEPOT"==t.typeTransaction.name?"PAYEE":"NON PAYEE","\xa0 "),e.xp6(2),e.Oqu(e.xi3(23,22,t.createdAt,"dd-MM-yyyy \xe0 HH:mm")),e.xp6(3),e.Oqu(e.xi3(26,25,t.updatedAt,"dd-MM-yyyy \xe0 HH:mm"))}}function J(n,o){1&n&&(e.TgZ(0,"p",47),e._uU(1,"Aucun pr\xeat trouv\xe9 !"),e.qZA())}const L=function(n,o,t){return{id:"amandes",itemsPerPage:n,currentPage:o,totalItems:t}};function N(n,o){if(1&n){const t=e.EpF();e.ynx(0,36),e.TgZ(1,"table",37),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Date"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Membre"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Montant"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Description"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Transaction"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Date de cr\xe9ation"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Date de modification"),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,F,27,28,"tbody",38),e.ALo(21,"paginate"),e.qZA(),e.TgZ(22,"div",39),e.YNc(23,J,2,0,"p",40),e.qZA(),e.TgZ(24,"div",41),e.TgZ(25,"div",42),e.TgZ(26,"div",12),e._uU(27," Total : "),e.TgZ(28,"b"),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",11),e.TgZ(31,"div",12),e.TgZ(32,"pagination-controls",43),e.NdJ("pageChange",function(s){return e.CHM(t),e.oxw(2).pageChange(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().ngIf,a=e.oxw();e.xp6(20),e.Q6J("ngForOf",e.xi3(21,3,t.appData.content,e.kEZ(6,L,t.appData.size,a.page,t.appData.totalElements))),e.xp6(3),e.Q6J("ngIf",!t.appData.content.length),e.xp6(6),e.hij("",t.appData.totalElements," ")}}function Y(n,o){if(1&n&&(e.ynx(0,32),e.TgZ(1,"div",48),e.TgZ(2,"div",49),e._uU(3),e.qZA(),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(3),e.Oqu(t.error)}}function w(n,o){if(1&n&&(e.ynx(0,29),e.YNc(1,D,4,0,"ng-container",30),e.YNc(2,N,33,10,"ng-container",31),e.YNc(3,Y,4,1,"ng-container",30),e.BQk()),2&n){const t=o.ngIf,a=e.oxw();e.Q6J("ngSwitch",t.dataState),e.xp6(1),e.Q6J("ngSwitchCase",a.DataState.LOADING_STATE),e.xp6(1),e.Q6J("ngSwitchCase",a.DataState.LOADED_STATE),e.xp6(1),e.Q6J("ngSwitchCase",a.DataState.ERROR_STATE)}}const Q=[{path:"",component:f,children:[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:(()=>{class n{constructor(t,a,s,g,c){this.fb=t,this.modalService=a,this.notifService=s,this.userService=g,this.disciplneService=c,this.DataState=l.a,this.isLoading=new v.X(!1),this.isLoading$=this.isLoading.asObservable(),this.page=1,this.size=20,this.roleUser=localStorage.getItem("userAccount").toString(),this.loadUser=!1,this.date="",this.userFilter="",this.statusFilter=""}ngOnInit(){this.formMangwa(),this.getAmande(),this.getUsers()}formMangwa(){this.pretForm=this.fb.group({date:["",[r.kI.required]],montant:["",[r.kI.required,r.kI.min(1)]],type:["",[r.kI.required]]})}getAmande(){this.appState$=this.disciplneService.amande$(this.userFilter,this.statusFilter,this.date,this.page-1,this.size).pipe((0,C.U)(t=>(this.notifService.onSuccess("chargement des amandes"),{dataState:l.a.LOADED_STATE,appData:t})),(0,_.O)({dataState:l.a.LOADING_STATE,appData:null}),(0,A.K)(t=>(0,x.of)({dataState:l.a.ERROR_STATE,error:t})))}getUsers(){this.loadUser=!0,this.userService.getUserss().subscribe(t=>{this.loadUser=!1,this.users=t})}annuler(){this.formMangwa(),this.pretForm.reset(),this.modalService.dismissAll()}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"})}pageChange(t){this.page=t,this.getAmande()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(q.FF),e.Y36(y.y),e.Y36(S.f),e.Y36(M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-index-amande"]],decls:43,vars:8,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"pe-7s-box1","icon-gradient","bg-night-fade"],[1,"page-title-subheading"],[1,"row"],[1,"col-md-12"],["id","htmlData",1,"main-card","mb-3","card"],["htmlData",""],[1,"card-header"],[1,"btn-actions-pane-right"],["role","group",1,"btn-group-sm","btn-group"],["role","group",1,""],[1,"form-row"],[1,"position-relative","mr-2"],["name","mag","id","mag",1,"form-control","form-control-sm","mr-3",3,"ngModel","ngModelChange"],["value","","selected","","disabled","","hidden",""],[3,"ngValue",4,"ngFor","ngForOf"],["value","","disabled","",4,"ngIf"],["value",""],["name","stat","id","statut",1,"form-control","form-control-sm","mr-3",3,"ngModel","ngModelChange"],["value","NON_PAYE"],["value","DEPOT"],["type","date","name","date","id","date","placeholder","Rechercher date",1,"form-control","form-control-sm","mr-3",3,"ngModel","ngModelChange"],[1,"table-responsive"],["class","bg-white",3,"ngSwitch",4,"ngIf"],[3,"ngValue"],["value","","disabled",""],[1,"bg-white",3,"ngSwitch"],["class","bg-white",4,"ngSwitchCase"],["class","bg-white py-1 px-1",4,"ngSwitchCase"],[1,"bg-white"],[1,"col-md-12","text-center","my-3"],[1,"ball-clip-rotate"],[2,"background-color","rgb(68, 64, 84)"],[1,"bg-white","py-1","px-1"],[1,"table","table-hover","bg-white"],[4,"ngFor","ngForOf"],[1,"text-center"],["style","color: grey; font-size: 1.8rem;","class","mx-auto",4,"ngIf"],[1,"card-footer"],[1,"btn-actions-pane-left"],["id","amandes","previousLabel","Pr\xe9c\xe9dent","nextLabel","Suivant",3,"pageChange"],[1,"mb-2","mr-2","font-weight-bold",3,"ngClass"],[1,"fa",3,"ngClass"],[1,"badge",3,"ngClass"],[1,"mx-auto",2,"color","grey","font-size","1.8rem"],[1,"col-md-12","text-center"],[1,"text-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"div"),e._uU(6,"Gestion des Amandes "),e.TgZ(7,"div",5),e._uU(8,"Suivez toutes les amaandes"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"div",8,9),e.TgZ(13,"div",10),e._uU(14," Liste des amandes. "),e.TgZ(15,"div",11),e._UZ(16,"div",12),e.qZA(),e.TgZ(17,"div",11),e.TgZ(18,"div",13),e.TgZ(19,"form",14),e.TgZ(20,"div",15),e.TgZ(21,"select",16),e.NdJ("ngModelChange",function(g){return a.userFilter=g})("ngModelChange",function(){return a.getAmande()}),e.TgZ(22,"option",17),e._uU(23,"S\xe9lectionner un membre"),e.qZA(),e.YNc(24,b,4,7,"option",18),e.YNc(25,O,2,0,"option",19),e.TgZ(26,"option",20),e._uU(27,"Tout afficher"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",15),e.TgZ(29,"select",21),e.NdJ("ngModelChange",function(g){return a.statusFilter=g})("ngModelChange",function(){return a.getAmande()}),e.TgZ(30,"option",17),e._uU(31,"Choix statut"),e.qZA(),e.TgZ(32,"option",22),e._uU(33,"NON PAYE"),e.qZA(),e.TgZ(34,"option",23),e._uU(35,"PAYE"),e.qZA(),e.TgZ(36,"option",20),e._uU(37,"Tout afficher"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",15),e.TgZ(39,"input",24),e.NdJ("ngModelChange",function(g){return a.date=g})("ngModelChange",function(){return a.getAmande()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",25),e.YNc(41,w,4,4,"ng-container",26),e.ALo(42,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(21),e.Q6J("ngModel",a.userFilter),e.xp6(3),e.Q6J("ngForOf",a.users.content),e.xp6(1),e.Q6J("ngIf",!a.loadUser&&0==a.users.totalElements),e.xp6(4),e.Q6J("ngModel",a.statusFilter),e.xp6(10),e.Q6J("ngModel",a.date),e.xp6(2),e.Q6J("ngIf",e.lcZ(42,6,a.appState$)))},directives:[r._Y,r.JL,r.F,r.EJ,r.JJ,r.On,r.YN,r.Kr,d.sg,d.O5,r.Fj,d.RF,d.n9,m.LS,d.mk],pipes:[d.Ov,d.rS,m._s,d.uU,d.JJ],styles:[""]}),n})()}]}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(Q)],p.Bz]}),n})();var $=i(5291);let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,P,$.m,m.JX,r.u5]]}),n})()}}]);